<template>
    <lightning-card title="External Credit Check" icon-name="standard:search">
        <div class="slds-m-around_medium">
            <!-- The button that the user will click -->
            <lightning-button
                label="Fetch Latest Credit Score"
                variant="brand"
                onclick={handleFetchScoreClick}
                disabled={isLoading}>
            </lightning-button>

            <!-- Show a spinner while the callout is in progress -->
            <if:true if:true={isLoading}>
                <div class="slds-m-top_medium">
                    <lightning-spinner alternative-text="Loading..." size="small"></lightning-spinner>
                </div>
            </if:true>

            <!-- If the score is successfully fetched, display it -->
            <if:true if:true={creditScore}>
                <p class="slds-m-top_medium slds-text-heading_medium slds-text-color_success">
                    Credit Score: {creditScore}
                </p>
            </if:true>

            <!-- If there is an error, display the error message -->
            <if:true if:true={error}>
                <p class="slds-m-top_medium slds-text-color_error">
                    Error: {error}
                </p>
            </if:true>
        </div>
    </lightning-card>
</template>